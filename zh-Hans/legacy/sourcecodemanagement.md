---
generator: pandoc
title: 源代码管理
viewport: width=device-width, initial-scale=1.0, user-scalable=yes
---

# 源代码管理 {#source-code-management}

## 分支 {#branches}

-   您可以访问[Foonie Magus github
    页面](https://github.com/FoonieMagusn)来获取这些存储库。

-   有 4
    种类型的分支。**部署分支**、**发布分支**、**功能分支**、**开发人员分支**、**开发人员功能分支**、

    -   **部署分支**生产、暂存、测试版、阿尔法版、开发
        -   不同环境的分支
        -   内部测试的阿尔法
        -   用于外部测试的 beta
        -   在升级到生产之前进行测试，登台应具有与生产相同的设置。
        -   仅通过拉取请求进行更改。首选分支升级路径是开发 -\> alpha -\>
            beta -\> staging -\> 生产。
        -   推送后运行测试
        -   仅在所有测试运行成功后部署到服务器
        -   已审查
    -   **发布分支**
        -   使用语义版本控制，XYZ
        -   如果公共 API 中引入了任何向后不兼容的更改，则主版本 X (Xyz
            \| X \> 0) 必须递增。
        -   如果公共 API 中引入了新的向后兼容功能，则次要版本 Y (xYz \|
            x \> 0)
            必须递增。如果在私有代码中引入大量新功能或改进，它可能会增加
        -   如果仅引入向后兼容的错误修复，则必须增加补丁版本 Z (xyZ \| x
            \> 0)。错误修复被定义为修复不正确行为的内部更改。
        -   有关更多详细信息，请参阅此处
            https://semver.org/spec/v1.0.0.html。
    -   **开发分支**master、develop、\[feature_name\]
        -   \[feature_name\] 是开发中的功能分支
        -   有多少个开发分支由团队决定
        -   仅通过拉取请求进行更改
        -   已审查
    -   **开发者分支**，dev/\[用户名\]/master
        -   开发商分支
        -   仅通过开发者名称提交和推送
        -   开发者可以自己决定提交或推送什么
    -   **开发者功能分支**，dev/\[用户名\]/\[功能名称\]
        -   开发人员的功能分支
        -   使用此分支向**开发分支**提交拉取请求
        -   始终将其用于拉取请求，因为分支的每次推送都会计入触发的拉取请求。

-   在合并到**Development
    Branch**之前，我们使用**分支拉取请求**而不是**repo
    拉取**请求来进行拉取请求。

## 源代码审查工作流程 {#source-code-review-workflow}

所有代码在合并到**开发分支**之前至少需要经过高级开发人员的审查。

-   创建**开发者功能分支**并开发该功能。

-   从**开发分支**变基，您将提交拉取请求。

-   将您的分支推送到公共仓库。

-   通过 github 从您刚刚向**Development
    Branch**分支推送的分支提交拉取请求。在拉取请求中添加审阅者。有时，针对**功能分支**，取决于具体情况。

-   根据审稿人的意见适当更新。

-   一旦拉取请求被接受，您就可以合并分支。

-   如果不再使用**开发者功能分支，**请将其删除。

-   您可以访问以下链接以了解有关不同工作流程的更多信息。
    https://www.atlassian.com/git/tutorials/making-a-pull-request

-   何时从**发布分支升级**到**开发分支**取决于您的团队自己的决定。

-   **警告**如果分支已经经过审查，则不鼓励重新设置基准。审核前可以接受。主要有两个原因。

    -   Rebase需要使用强制推送来摆脱远程分支。因为用力推动是非常危险的。
    -   经过审查后，带有冲突的变基将删除合并历史记录。如果冲突解决出现问题，强推后动作不可逆。

## 源代码单元测试 {#source-code-unit-test}

待定
